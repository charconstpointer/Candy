(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(34)},23:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(16),r=n.n(o),l=(n(23),n(7)),s=n(8),i=n(10),u=n(9),m=n(11),d=(n(25),n(3)),b=(n(28),n(12)),f=n(6),v=(a.Component,function(e){var t=Object(a.useState)(!1),o=Object(d.a)(t,2),r=o[0],l=o[1],s=Object(a.useState)({}),i=Object(d.a)(s,2),u=i[0],m=i[1],v=Object(a.useState)({body:""}),h=Object(d.a)(v,2),p=h[0],j=h[1],O=Object(a.useState)([]),g=Object(d.a)(O,2),w=g[0],E=g[1],y=Object(a.useRef)(),k=n(15);Object(a.useEffect)(function(){var t=(new k.HubConnectionBuilder).withUrl(e.address).build();t.on("receiveMessage",function(e){console.log("mess",e),E(function(t){return[].concat(Object(f.a)(t),[{name:e.name,body:e.body}])})}),t.start().then(function(){l(!0),t.invoke("joinRoom",e.name,"default")}).catch(function(e){return console.error(e)}),m(t)},{});return r?c.a.createElement("div",{className:"chatFeed"},c.a.createElement("ul",{class:"collection"},w.map(function(e){return c.a.createElement("li",{key:Math.random(),class:"collection-item"},e.name," : ",e.body)})),c.a.createElement("div",{className:"chatInput"},c.a.createElement("input",{ref:y,onChange:function(t){j({name:e.name,body:t.target.value})}}),c.a.createElement("a",{onClick:function(){0!==p.body.length&&(u.invoke("sendmessage",p),j(Object(b.a)({},p,{body:""})),y.current.value="")},class:"waves-effect waves-light btn"},"Send"))):c.a.createElement("h3",null,"Connecting...")}),h=function(e){var t=c.a.useState(),n=Object(d.a)(t,2),a=n[0],o=n[1],r=c.a.useState(),l=Object(d.a)(r,2),s=l[0],i=l[1],u=c.a.useState(!1),m=Object(d.a)(u,2),b=m[0],f=m[1];return b?c.a.createElement("div",{className:"container"},c.a.createElement(v,{name:a,address:s})):c.a.createElement("div",{className:"login"},c.a.createElement("input",{placeholder:"Your name",onChange:function(e){o(e.target.value)},className:"nameInput",type:"text"}),c.a.createElement("input",{placeholder:"Server address",onChange:function(e){i(e.target.value)},className:"addressInput",type:"text"}),c.a.createElement("a",{onClick:function(){f(!0)},class:"waves-effect waves-light btn"},"Connect"))},p=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(h,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.d4f25e66.chunk.js.map